/* Core Web Vitals Optimization (2025 Standards) */

/* Largest Contentful Paint (LCP) Optimization */
.lcp-optimization {
  /* Preload critical above-the-fold content */
  content-visibility: auto;
  contain-intrinsic-size: 0 500px;
}

/* Critical Images for LCP */
.lcp-critical-image {
  fetchpriority: 'high';
  loading: 'eager';
  priority: true;
  transform: translateZ(0); /* GPU acceleration */
  will-change: transform;
}

/* First Input Delay (FID) Optimization */
.fid-optimization {
  /* Reduce JavaScript execution time */
  contain: layout style paint;
  will-change: auto; /* Reset will-change */
}

/* Interactive Elements */
.interactive-element {
  touch-action: manipulation;
  user-select: none;
  -webkit-tap-highlight-color: transparent;
}

/* Cumulative Layout Shift (CLS) Prevention */
.cls-prevention {
  /* Reserve space for dynamic content */
  min-height: 100vh;
  contain: layout;
}

/* Image CLS Prevention */
.image-container {
  aspect-ratio: attr(width) / attr(height);
  overflow: hidden;
  background: var(--color-background);
}

/* Font Loading for CLS */
@font-face {
  font-family: 'Geist Sans';
  font-display: swap;
  src: url('/fonts/geist-sans.woff2') format('woff2');
}

/* Skeleton Loading for CLS Prevention */
.skeleton-loader {
  background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
  background-size: 200% 100%;
  animation: loading 1.5s infinite;
}

@keyframes loading {
  0% { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}

/* Performance Monitoring */
.web-vitals-indicator {
  position: fixed;
  bottom: 20px;
  right: 20px;
  background: rgba(0, 0, 0, 0.8);
  color: white;
  padding: 10px;
  border-radius: 5px;
  font-family: monospace;
  font-size: 12px;
  z-index: 9999;
}

/* Resource Hints for Performance */
.resource-hints {
  /* DNS prefetch for external domains */
  dns-prefetch: //fonts.googleapis.com;
  dns-prefetch: //www.googletagmanager.com;
  
  /* Preconnect for critical resources */
  preconnect: //fonts.gstatic.com;
  preconnect: //www.google-analytics.com;
}

/* Critical CSS Inlining */
.critical-css {
  /* Inline critical CSS for above-the-fold content */
  display: critical;
}

/* Non-Critical CSS Loading */
.non-critical-css {
  /* Load non-critical CSS asynchronously */
  loading: lazy;
  media: 'not all and (prefers-reduced-data: reduce)';
}

/* Performance Budget Enforcement */
.performance-budget {
  /* Limit resource sizes */
  max-width: 100vw;
  max-height: 100vh;
  overflow: hidden;
}

/* Network-Aware Loading */
@media (prefers-reduced-data: reduce) {
  .network-optimization {
    /* Reduce data usage for slow connections */
    image-rendering: pixelated;
    font-display: optional;
  }
}

/* Dark Mode Performance */
@media (prefers-color-scheme: dark) {
  .dark-mode-optimization {
    /* Optimize for dark mode rendering */
    color-scheme: dark;
    filter: brightness(0.9) contrast(1.1);
  }
}
